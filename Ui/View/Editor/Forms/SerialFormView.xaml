<UserControl x:Class="_1RM.View.Editor.Forms.SerialFormView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:controls="clr-namespace:_1RM.Controls"
             xmlns:forms="clr-namespace:_1RM.View.Editor.Forms"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance forms:SerialFormViewModel}"
             d:DesignHeight="1450" d:DesignWidth="800">
    <StackPanel>
        <!-- Serial连接设置 -->
        <StackPanel Margin="0,0,0,10">
            <!-- 端口和波特率 -->
            <Border Margin="0,0,0,10">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Serial port"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <Grid Grid.Column="1" Margin="15,0,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="100"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <controls:AutoCompleteComboBox Grid.Column="0"
                                                       Text="{Binding New.SerialPort, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, ValidatesOnNotifyDataErrors=True}"
                                                       Tag="e.g. COM1"
                                                       Selections="{Binding New.SerialPorts, Mode=OneTime}"
                                                       Height="30"
                                                       VerticalAlignment="Center"
                                                       Margin="0,0,12,0"
                                                       FontSize="12"
                                                       Panel.ZIndex="100"/>

                        <TextBlock Grid.Column="1"
                                   Text="Speed(bps)"
                                   VerticalAlignment="Center"
                                   Margin="0,0,12,0"
                                   FontSize="13"
                                   FontWeight="Medium"/>
                        <controls:AutoCompleteComboBox Grid.Column="2"
                                                       Text="{Binding New.BitRate, UpdateSourceTrigger=PropertyChanged, ValidatesOnDataErrors=True, NotifyOnValidationError=True, ValidatesOnExceptions=True, ValidatesOnNotifyDataErrors=True}"
                                                       Tag="e.g. 9600"
                                                       Selections="{Binding New.BitRates, Mode=OneTime}"
                                                       MinWidth="120"
                                                       HorizontalAlignment="Left"
                                                       Height="30"
                                                       VerticalAlignment="Center"
                                                       FontSize="12"
                                                       Panel.ZIndex="100"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- Separator -->
            <Border Height="1" Background="{DynamicResource PrimaryMidBrush}" Opacity="0.3" Margin="0,0,0,12"/>
        </StackPanel>

        <!-- Serial高级设置 -->
        <StackPanel>
            <!-- 数据位 -->
            <Border Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Data bits"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <ComboBox Grid.Column="1"
                              SelectedItem="{Binding New.DataBits}"
                              ItemsSource="{Binding New.DataBitsCollection}"
                              Height="28"
                              VerticalAlignment="Center"
                              Margin="15,0,0,0">
                        <ComboBox.Style>
                            <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryMidBrush}"/>
                                <Setter Property="BorderThickness" Value="1"/>
                                <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                                <Setter Property="FontSize" Value="12"/>
                            </Style>
                        </ComboBox.Style>
                    </ComboBox>
                </Grid>
            </Border>

            <!-- 停止位 -->
            <Border Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Stop bits"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <ComboBox Grid.Column="1"
                              SelectedItem="{Binding New.StopBits}"
                              ItemsSource="{Binding New.StopBitsCollection}"
                              Height="28"
                              VerticalAlignment="Center"
                              Margin="15,0,0,0">
                        <ComboBox.Style>
                            <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryMidBrush}"/>
                                <Setter Property="BorderThickness" Value="1"/>
                                <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                                <Setter Property="FontSize" Value="12"/>
                            </Style>
                        </ComboBox.Style>
                    </ComboBox>
                </Grid>
            </Border>

            <!-- 校验位 -->
            <Border Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Parity"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <ComboBox Grid.Column="1"
                              SelectedItem="{Binding New.Parity}"
                              ItemsSource="{Binding New.ParityCollection}"
                              Height="28"
                              VerticalAlignment="Center"
                              Margin="15,0,0,0">
                        <ComboBox.Style>
                            <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryMidBrush}"/>
                                <Setter Property="BorderThickness" Value="1"/>
                                <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                                <Setter Property="FontSize" Value="12"/>
                            </Style>
                        </ComboBox.Style>
                    </ComboBox>
                </Grid>
            </Border>

            <!-- 流控制 -->
            <Border Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="Flow control"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <ComboBox Grid.Column="1"
                              SelectedItem="{Binding New.FlowControl}"
                              ItemsSource="{Binding New.FlowControlCollection}"
                              Height="28"
                              VerticalAlignment="Center"
                              Margin="15,0,0,0">
                        <ComboBox.Style>
                            <Style TargetType="ComboBox" BasedOn="{StaticResource {x:Type ComboBox}}">
                                <Setter Property="BorderBrush" Value="{DynamicResource PrimaryMidBrush}"/>
                                <Setter Property="BorderThickness" Value="1"/>
                                <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                                <Setter Property="FontSize" Value="12"/>
                            </Style>
                        </ComboBox.Style>
                    </ComboBox>
                </Grid>
            </Border>

            <!-- KiTTY会话 -->
            <Border Margin="0,0,0,12">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" MinWidth="120"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" Text="KiTTY Session"
                               VerticalAlignment="Center"
                               FontSize="13" FontWeight="Medium"
                               Foreground="{DynamicResource PrimaryTextBrush}"/>

                    <Grid Grid.Column="1" Margin="15,0,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <TextBox Grid.Column="0"
                                 Text="{Binding New.ExternalKittySessionConfigPath, UpdateSourceTrigger=PropertyChanged}"
                                 ToolTip="{DynamicResource server_editor_advantage_ssh_startup_auto_kitty_session_tip}"
                                 Tag="{DynamicResource server_editor_advantage_ssh_startup_auto_kitty_session_tip}"
                                 Height="28"
                                 VerticalAlignment="Center"
                                 Margin="0,0,8,0">
                            <TextBox.Style>
                                <Style TargetType="TextBox">
                                    <Setter Property="BorderBrush" Value="{DynamicResource PrimaryMidBrush}"/>
                                    <Setter Property="BorderThickness" Value="1"/>
                                    <Setter Property="Background" Value="{DynamicResource BackgroundBrush}"/>
                                    <Setter Property="FontSize" Value="12"/>
                                </Style>
                            </TextBox.Style>
                        </TextBox>
                        <Button Grid.Column="1"
                                VerticalAlignment="Center"
                                Height="28"
                                Padding="16,4"
                                Style="{StaticResource ButtonPrimaryStyle}"
                                Content="{DynamicResource Select}"
                                Click="ButtonSelectSessionConfigFile_OnClick"/>
                    </Grid>
                </Grid>
            </Border>

            <!-- Separator -->
            <Border Height="1" Background="{DynamicResource PrimaryMidBrush}" Opacity="0.3" Margin="0,0,0,12"/>
        </StackPanel>
    </StackPanel>
</UserControl>