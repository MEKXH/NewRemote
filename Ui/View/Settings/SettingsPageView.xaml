<UserControl x:Class="_1RM.View.Settings.SettingsPageView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:attachProperty="clr-namespace:Shawn.Utils.WpfResources.Theme.AttachProperty;assembly=Shawn.Utils.WpfResources"
             xmlns:settings="clr-namespace:_1RM.View.Settings"
             xmlns:s="https://github.com/canton7/Stylet"
             xmlns:view="clr-namespace:_1RM.View"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance settings:SettingsPageViewModel}"
             d:DesignHeight="2450" d:DesignWidth="1000">

    <Grid Background="{DynamicResource BackgroundBrush}" Grid.IsSharedSizeScope="True">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"></ColumnDefinition>
            <ColumnDefinition Width="*"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <!-- 侧边栏导航 -->
        <Border Grid.Column="0" Background="{DynamicResource PrimaryMidBrush}">
            <Border.Effect>
                <DropShadowEffect Color="Black" Opacity="0.1" ShadowDepth="2" BlurRadius="8"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- 标题区域 -->
                <Border Grid.Row="0" Padding="10,15,10,15" Background="{DynamicResource PrimaryDarkBrush}">
                    <StackPanel>
                        <TextBlock Text="{DynamicResource Options}" FontSize="16" FontWeight="SemiBold"
                                   Foreground="{DynamicResource PrimaryTextBrush}" HorizontalAlignment="Center"/>
                    </StackPanel>
                </Border>

                <!-- 导航按钮区域 -->
                <StackPanel Grid.Row="1" Margin="10,0" VerticalAlignment="Top">
                    <StackPanel.Resources>
                        <Style x:Key="TabButtonStyle" TargetType="Button" BasedOn="{StaticResource ButtonBarPrimaryStyle}">
                            <Setter Property="Cursor" Value="Hand"></Setter>
                            <Setter Property="Width" Value="160"></Setter>
                            <Setter Property="Height" Value="36"></Setter>
                            <Setter Property="Margin" Value="0,1"></Setter>
                            <Setter Property="BorderThickness" Value="0"></Setter>
                            <Setter Property="Background" Value="Transparent"></Setter>
                            <Setter Property="Foreground" Value="{DynamicResource PrimaryTextBrush}"></Setter>
                            <Setter Property="FontSize" Value="12"></Setter>
                            <Setter Property="FontWeight" Value="Normal"></Setter>
                            <Setter Property="HorizontalContentAlignment" Value="Left"></Setter>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border Background="{TemplateBinding Background}"
                                                CornerRadius="4"
                                                BorderThickness="0"
                                                Margin="{TemplateBinding Margin}">
                                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                              VerticalAlignment="Center"
                                                              Margin="10,0"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </StackPanel.Resources>


                    <!-- 常规设置 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsGeneral}"
                            Content="{DynamicResource system_options_general_title}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsGeneral}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- 快速启动器 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsLauncher}"
                            Content="{DynamicResource Launcher}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsLauncher}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- 数据安全 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsData}"
                            Content="{DynamicResource system_options_data_security_database}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsData}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- 凭据保险库 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsCredentialVault}"
                            Content="{DynamicResource 'Credentials Vault'}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsCredentialVault}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- 主题设置 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsTheme}"
                            Content="{DynamicResource Theme}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsTheme}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                    <!-- 协议设置 -->
                    <Button Command="{Binding CmdShowPage}"
                            CommandParameter="{x:Static view:EnumMainWindowPage.SettingsRunners}"
                            Content="{DynamicResource Protocol}">
                        <Button.Style>
                            <Style TargetType="Button" BasedOn="{StaticResource TabButtonStyle}">
                                <Style.Triggers>
                                    <DataTrigger Value="{x:Static view:EnumMainWindowPage.SettingsRunners}" Binding="{Binding CurrentPage}">
                                        <Setter Property="Background" Value="{DynamicResource AccentMidBrush}"></Setter>
                                        <Setter Property="Foreground" Value="{DynamicResource AccentTextBrush}"></Setter>
                                        <Setter Property="FontWeight" Value="SemiBold"></Setter>
                                    </DataTrigger>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource PrimaryLightBrush}"></Setter>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>

                </StackPanel>

                <!-- 底部返回按钮 -->
                <Border Grid.Row="2" Padding="20,20,20,30">
                    <Button Command="{Binding CmdSaveAndGoBack}"
                            Content="{DynamicResource Back}"
                            Style="{StaticResource ButtonAccentStyle}"
                            Height="45">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}"
                                        CornerRadius="6"
                                        BorderThickness="0"
                                        Padding="25,0">
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <ContentPresenter Content="{TemplateBinding Content}"
                                                          VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Border>
            </Grid>
        </Border>



        <!-- 主内容区域 -->
        <Border Grid.Column="1" Margin="20,20,20,20">
            <Border Background="{DynamicResource BackgroundBrush}" CornerRadius="8">
                <Border.Effect>
                    <DropShadowEffect Color="Black" Opacity="0.05" ShadowDepth="1" BlurRadius="4"/>
                </Border.Effect>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- 内容区域 -->
                    <ScrollViewer Grid.Row="0" Padding="25,25,25,25"
                                  VerticalScrollBarVisibility="Auto"
                                  HorizontalScrollBarVisibility="Disabled">
                        <ContentControl s:View.Model="{Binding SelectedViewModel}"/>
                    </ScrollViewer>
                </Grid>
            </Border>
        </Border>
    </Grid>
</UserControl>